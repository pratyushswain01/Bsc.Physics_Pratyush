<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BSc. Physics - Issues Tracker and Solver</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/feather-icons"></script>
    <style>
        /* --- THEME DEFINITIONS --- */
        :root {
            --base-bg: #f0f2f5; --surface-bg: #ffffff; --surface-border: #e2e8f0; --text-primary: #020617; --text-secondary: #475569;
            --accent: #0ea5e9; --accent-glow: rgba(14, 165, 233, 0.4); --danger: #ef4444; --danger-glow: rgba(239, 68, 68, 0.5);
            --green: #22c55e; --purple: #8b5cf6; --orange: #f97316; --blue: #3b82f6;
            --modal-overlay-bg: rgba(10, 10, 15, 0.5); --modal-surface-bg: rgba(255, 255, 255, 0.8);
            --social-bg: linear-gradient(45deg, #4f46e5, #0ea5e9);
        }

        body.dark-mode {
            --base-bg: #05080F; --surface-bg: #101522; --surface-border: #23293A; --text-primary: #f0f2f5; --text-secondary: #a1a7b8;
            --accent: #0ea5e9; --accent-glow: rgba(14, 165, 233, 0.4); --danger: #f87171; --danger-glow: rgba(248, 113, 113, 0.6);
            --green: #4ade80; --purple: #a78bfa; --orange: #fb923c; --blue: #60a5fa;
            --modal-overlay-bg: rgba(0, 0, 0, 0.7); --modal-surface-bg: rgba(30, 35, 50, 0.8);
            --social-bg: linear-gradient(45deg, #6366f1, #0ea5e9);
        }

        /* --- GLOBAL & LAYOUT --- */
        *, *::before, *::after { box-sizing: border-box; }
        body { font-family: 'Inter', sans-serif; background-color: var(--base-bg); color: var(--text-primary); margin: 0; transition: background-color 0.4s ease; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; }
        .container { width: 90%; max-width: 1200px; margin: 0 auto; padding: 2rem 0; }
        @keyframes fadeIn { to { opacity: 1; } }
        @keyframes fadeInAndUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }

        /* --- HEADER & CONTROLS --- */
        .app-header { padding-bottom: 2rem; display: flex; justify-content: space-between; align-items: center; opacity: 0; animation: fadeIn 0.8s ease forwards; }
        .logo h1 { font-size: 1.8rem; font-weight: 700; color: var(--text-primary); margin: 0; } .logo h1 span { color: var(--accent); }
        .header-controls { display: flex; align-items: center; gap: 1.5rem; }
        .datetime { text-align: right; color: var(--text-secondary); font-size: 0.9rem; line-height: 1.4; }
        .collab-info { border-left: 2px solid var(--surface-border); padding-left: 1rem; font-size: 0.9rem; font-weight: 500; color: var(--text-secondary); }
        .theme-switcher { position: relative; } #theme-toggle { display: none; }
        .slider { cursor: pointer; width: 50px; height: 26px; background-color: var(--surface-bg); border: 1px solid var(--surface-border); border-radius: 26px; display: block; position: relative; transition: all 0.3s ease; }
        .slider::before { content: ''; position: absolute; height: 20px; width: 20px; left: 2px; top: 2px; background-color: var(--text-secondary); border-radius: 50%; transition: all 0.3s ease; }
        #theme-toggle:checked + .slider { background-color: var(--accent); } #theme-toggle:checked + .slider::before { transform: translateX(24px); background-color: white; }

        /* --- PAGE INTRO HEADER --- */
        .page-intro { text-align: center; padding: 2rem 0; opacity: 0; animation: fadeInAndUp 0.8s ease 0.2s forwards; }
        .page-intro h1 { font-size: 2.5rem; font-weight: 700; color: var(--text-primary); margin-bottom: 0.5rem; }
        .page-intro h1 span { color: var(--accent); }
        .page-intro p { font-size: 1.1rem; color: var(--text-secondary); max-width: 700px; margin: 0 auto; }

        /* --- ISSUE TRACKER STYLES --- */
        .issue-container { background-color: var(--surface-bg); border: 1px solid var(--surface-border); border-radius: 1rem; margin-top: 2.5rem; opacity: 0; transform: translateY(30px); animation: fadeInAndUp 0.8s ease forwards; box-shadow: 0 10px 30px rgba(0,0,0,0.05); }
        .issue-container.open-issues { animation-delay: 0.4s; }
        .issue-container.solved-issues { animation-delay: 0.6s; }
        .issue-container-header { padding: 1.5rem; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid var(--surface-border); }
        .issue-container-title { display: flex; align-items: center; gap: 0.75rem; font-size: 1.35rem; font-weight: 700; color: var(--text-primary); }
        .issue-container-title i { color: var(--accent); }
        .solved-issues .issue-container-title i { color: var(--green); }
        
        /* Issue List Styles */
        .issues-list-container ul { list-style: none; padding: 0; margin: 0; }
        .issue-item { display: flex; align-items: flex-start; gap: 1rem; padding: 1.25rem 1.5rem; border-bottom: 1px solid var(--surface-border); transition: all 0.3s ease; }
        .issue-item:last-child { border-bottom: none; }
        .issue-item:hover { background-color: var(--base-bg); transform: scale(1.01); }
        .issue-status-icon i { margin-top: 2px; }
        .issue-content { flex-grow: 1; }
        .issue-title { font-size: 1.05rem; font-weight: 600; color: var(--text-primary); text-decoration: none; }
        .issue-title:hover { color: var(--accent); text-decoration: underline; }
        .issue-meta { font-size: 0.85rem; color: var(--text-secondary); margin-top: 0.25rem; }
        .issue-label { display: inline-block; font-size: 0.75rem; font-weight: 600; padding: 0.2rem 0.6rem; border-radius: 999px; margin-left: 0.75rem; }
        .label-bug { background-color: rgba(239, 68, 68, 0.1); color: var(--danger); }
        .label-enhancement { background-color: rgba(139, 92, 246, 0.1); color: var(--purple); }
        .label-urgent { background-color: rgba(249, 115, 22, 0.1); color: var(--orange); }
        .label-question { background-color: rgba(59, 130, 246, 0.1); color: var(--blue); }
        .no-issues-message { text-align: center; padding: 4rem 1.5rem; color: var(--text-secondary); }
        .no-issues-message i { margin-bottom: 1rem; }
        .issue-item.solved { opacity: 0.7; }
        .issue-item.solved .issue-title, .issue-item.solved .issue-meta { text-decoration: line-through; }

        /* --- FLOATING ACTION BUTTON (FAB) --- */
        .fab { position: fixed; bottom: 2rem; right: 2rem; width: 56px; height: 56px; background: var(--social-bg); color: white; border: none; border-radius: 50%; display: flex; align-items: center; justify-content: center; box-shadow: 0 8px 20px rgba(0,0,0,0.2); cursor: pointer; transition: all 0.3s ease; z-index: 1000; }
        .fab:hover { transform: translateY(-3px) scale(1.05); box-shadow: 0 12px 25px rgba(0,0,0,0.3); }

        /* --- MODAL STYLES --- */
        .modal-overlay { position: fixed; inset: 0; background-color: var(--modal-overlay-bg); z-index: 2000; display: flex; align-items: center; justify-content: center; opacity: 0; visibility: hidden; transition: all 0.3s ease; }
        .modal-overlay.visible { opacity: 1; visibility: visible; }
        .modal-content { background-color: var(--modal-surface-bg); backdrop-filter: blur(15px); -webkit-backdrop-filter: blur(15px); border: 1px solid var(--surface-border); border-radius: 1rem; width: 90%; max-width: 500px; box-shadow: 0 15px 40px rgba(0,0,0,0.2); transform: scale(0.95); transition: all 0.3s ease; }
        .modal-overlay.visible .modal-content { transform: scale(1); }
        .modal-header { padding: 1.5rem; border-bottom: 1px solid var(--surface-border); font-size: 1.25rem; font-weight: 600; }
        #issue-form { padding: 1.5rem; display: flex; flex-direction: column; gap: 1rem; }
        #issue-form label { font-weight: 500; font-size: 0.9rem; color: var(--text-secondary); }
        #issue-form input, #issue-form select, #issue-form textarea { width: 100%; background-color: var(--surface-bg); border: 1px solid var(--surface-border); border-radius: 0.5rem; padding: 0.75rem; color: var(--text-primary); font-family: 'Inter', sans-serif; transition: border-color 0.3s ease, box-shadow 0.3s ease; }
        #issue-form input:focus, #issue-form select:focus, #issue-form textarea:focus { outline: none; border-color: var(--accent); box-shadow: 0 0 0 3px var(--accent-glow); }
        .form-actions { display: flex; justify-content: flex-end; gap: 0.75rem; padding: 0 1.5rem 1.5rem; }
        .form-btn { border: none; padding: 0.6rem 1.2rem; border-radius: 0.5rem; font-weight: 600; cursor: pointer; transition: all 0.3s ease; }
        .btn-submit { background-color: var(--green); color: white; } .btn-submit:hover { background-color: #1ca352; }
        .btn-cancel { background-color: var(--surface-bg); color: var(--text-primary); border: 1px solid var(--surface-border); } .btn-cancel:hover { background-color: var(--base-bg); }

        /* --- FOOTER --- */
        .app-footer { background-color: var(--surface-bg); padding: 4rem 0 0 0; margin-top: 3rem; border-top: 1px solid var(--surface-border); }
        .footer-content { display: grid; grid-template-columns: 2fr 1fr 1fr; gap: 3rem; width: 90%; max-width: 1200px; margin: 0 auto; padding-bottom: 3rem; }
        .footer-column h3 { font-size: 1.1rem; font-weight: 600; color: var(--text-primary); margin: 0 0 1.25rem 0; }
        .footer-column p, .footer-column a { font-size: 0.95rem; color: var(--text-secondary); line-height: 1.7; text-decoration: none; }
        .footer-column ul { list-style: none; padding: 0; margin: 0; } .footer-column li { margin-bottom: 0.75rem; }
        .footer-column a:hover { color: var(--accent); text-decoration: underline; }
        .footer-logo { font-size: 1.5rem; font-weight: 700; color: var(--text-primary); margin-bottom: 1.25rem; }
        .footer-logo span { color: var(--accent); }
        .social-links { display: flex; gap: 1rem; }
        .social-links a { display: flex; align-items: center; justify-content: center; width: 40px; height: 40px; background: var(--social-bg); border-radius: 50%; color: #ffffff !important; transition: transform 0.3s ease, box-shadow 0.3s ease; }
        .social-links a:hover { transform: translateY(-3px); box-shadow: 0 4px 15px rgba(0,0,0,0.1); text-decoration: none; }
        .footer-bottom { border-top: 1px solid var(--surface-border); text-align: center; padding: 1.5rem 0; }
        .footer-bottom p { margin: 0; font-size: 0.85rem; color: var(--text-secondary); }

        @media (max-width: 768px) {
            .container { width: 95%; padding: 1rem 0; } .app-header { flex-direction: column; align-items: flex-start; gap: 1.5rem; padding-bottom: 1.5rem; }
            .header-controls { width: 100%; justify-content: space-between; } .datetime { text-align: left; }
            .page-intro h1 { font-size: 2rem; } .page-intro p { font-size: 1rem; }
            .footer-content { grid-template-columns: 1fr; gap: 2.5rem; } .app-footer { padding-top: 3rem; }
            .fab { bottom: 1.5rem; right: 1.5rem; }
        }
    </style>
</head>
<body class="dark-mode">

    <div class="container">
        <header class="app-header">
            <div class="logo"><h1>BSc. <span>Physics</span></h1><div class="collab-info">SDVM, Neelakanthanagar</div></div>
            <div class="header-controls">
                <div id="datetime" class="datetime"></div>
                <div class="theme-switcher"><input type="checkbox" id="theme-toggle" checked><label for="theme-toggle" class="slider"></label></div>
            </div>
        </header>

        <main>
            <section class="page-intro">
                <h1>BSc. Physics <span>Issue Resolution Center</span></h1>
                <p>Welcome to our dedicated issue tracker. Report bugs, suggest enhancements, or ask questions to help us improve the platform for everyone.</p>
            </section>
            
            <div class="issue-container open-issues">
                <div class="issue-container-header">
                    <div class="issue-container-title">
                        <i data-feather="alert-circle"></i>
                        <span>Open Issues</span>
                    </div>
                </div>
                <div id="open-issues-list-container" class="issues-list-container">
                    <!-- JS will populate this -->
                </div>
                <div id="no-open-issues-message" class="no-issues-message" style="display: none;">
                    <i data-feather="check-circle" style="width: 48px; height: 48px; margin-inline: auto;"></i>
                    <h3>All clear!</h3>
                    <p>There are no open issues. Create one to get started.</p>
                </div>
            </div>

            <div class="issue-container solved-issues">
                <div class="issue-container-header">
                    <div class="issue-container-title">
                        <i data-feather="archive"></i>
                        <span>Recently Solved by Admin</span>
                    </div>
                </div>
                <div id="solved-issues-list-container" class="issues-list-container">
                    <!-- JS will populate this -->
                </div>
                <div id="no-solved-issues-message" class="no-issues-message" style="display: none;">
                    <i data-feather="inbox" style="width: 48px; height: 48px; margin-inline: auto;"></i>
                    <h3>No solved issues yet.</h3>
                    <p>Issues marked as solved by an admin will appear here.</p>
                </div>
            </div>
        </main>
    </div>

    <footer class="app-footer">
        <div class="footer-content">
            <div class="footer-column"><div class="footer-logo">BSc. <span>Physics</span></div><p>Your central hub for BSc. Physics resources from Saraswati Degree Vidya Mandir, Neelakanthanagar, Bam-2 . We provide structured notes and guides to help you succeed in your academic journey.</p></div>
            <div class="footer-column"><h3>Quick Links</h3><ul><li><a href="#">About Us</a></li><li><a href="#">Semester Notes</a></li><li><a href="#">Contact Support</a></li></ul></div>
            <div class="footer-column"><h3>Connect With Us</h3><div class="social-links"><a href="#" aria-label="Facebook"><i data-feather="facebook"></i></a><a href="#" aria-label="Twitter"><i data-feather="twitter"></i></a><a href="#" aria-label="Instagram"><i data-feather="instagram"></i></a></div></div>
        </div>
        <div class="footer-bottom"><p>Â© 2025 Pratyush Swain. All Rights Reserved.</p></div>
    </footer>

    <!-- Floating Action Button -->
    <button id="fab-create-issue" class="fab" aria-label="Create new issue">
        <i data-feather="plus"></i>
    </button>

    <!-- Modal for New Issue Form -->
    <div id="modal-overlay" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">Create a New Issue</div>
            <form id="issue-form">
                <div>
                    <label for="issue-title">Title</label>
                    <input type="text" id="issue-title" name="issue-title" required placeholder="A brief, descriptive title">
                </div>
                 <div>
                    <label for="issue-label">Label</label>
                    <select id="issue-label" name="issue-label">
                        <option value="bug">Bug</option>
                        <option value="enhancement">Enhancement</option>
                        <option value="urgent">Urgent</option>
                        <option value="question">Question</option>
                    </select>
                </div>
                <div>
                    <label for="issue-comment">Comment (Optional)</label>
                    <textarea id="issue-comment" name="issue-comment" rows="4" placeholder="Provide more details..."></textarea>
                </div>
            </form>
            <div class="form-actions">
                <button type="button" id="cancel-issue-btn" class="form-btn btn-cancel">Cancel</button>
                <button type="submit" form="issue-form" class="form-btn btn-submit">Submit New Issue</button>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- Feather Icons ---
            feather.replace({ 'stroke-width': 1.5 });

            // --- Theme & Date/Time ---
            const themeToggle = document.getElementById('theme-toggle');
            const datetimeElement = document.getElementById('datetime');
            const currentTheme = localStorage.getItem('theme');
            if (currentTheme === 'light') { document.body.classList.remove('dark-mode'); if(themeToggle) themeToggle.checked = false; }
            else { document.body.classList.add('dark-mode'); if(themeToggle) themeToggle.checked = true; }
            if(themeToggle){ themeToggle.addEventListener('change', () => { document.body.classList.toggle('dark-mode'); localStorage.setItem('theme', themeToggle.checked ? 'dark' : 'light'); }); }
            if(datetimeElement){
                const updateDateTime = () => { const now = new Date(); const dateOptions = { weekday: 'long', month: 'long', day: 'numeric' }; datetimeElement.innerHTML = `${now.toLocaleDateString('en-US', dateOptions)}<br>${now.toLocaleTimeString('en-US')}`; };
                setInterval(updateDateTime, 1000); updateDateTime();
            }

            // --- Issue Tracker Logic ---
            const fab = document.getElementById('fab-create-issue');
            const modalOverlay = document.getElementById('modal-overlay');
            const cancelIssueBtn = document.getElementById('cancel-issue-btn');
            const issueForm = document.getElementById('issue-form');
            const openIssuesListContainer = document.getElementById('open-issues-list-container');
            const solvedIssuesListContainer = document.getElementById('solved-issues-list-container');
            const noOpenIssuesMessage = document.getElementById('no-open-issues-message');
            const noSolvedIssuesMessage = document.getElementById('no-solved-issues-message');
            let issues = [];

            const labelConfig = {
                bug: 'label-bug',
                enhancement: 'label-enhancement',
                urgent: 'label-urgent',
                question: 'label-question'
            };

            const statusIcons = {
                open: `<i data-feather="alert-circle" style="color: var(--orange);"></i>`,
                closed: `<i data-feather="check-circle" style="color: var(--green);"></i>`
            };
            
            function formatTimeAgo(dateString) {
                const date = new Date(dateString);
                const now = new Date();
                const seconds = Math.round((now - date) / 1000);
                const minutes = Math.round(seconds / 60);
                const hours = Math.round(minutes / 60);
                const days = Math.round(hours / 24);

                if (seconds < 5) return "just now";
                if (minutes < 60) return `${minutes} minutes ago`;
                if (hours < 24) return `${hours} hours ago`;
                if (days < 7) return `${days} days ago`;
                return `on ${date.toLocaleDateString()}`;
            }
            
            function renderAllIssues() {
                const openIssues = issues.filter(issue => issue.status === 'open');
                const closedIssues = issues.filter(issue => issue.status === 'closed');

                // Render Open Issues
                if (openIssues.length === 0) {
                    openIssuesListContainer.innerHTML = '';
                    noOpenIssuesMessage.style.display = 'block';
                } else {
                    noOpenIssuesMessage.style.display = 'none';
                    const openIssuesHTML = openIssues.map(issue => {
                        const labelClass = labelConfig[issue.label] || '';
                        return `
                            <li class="issue-item">
                                <div class="issue-status-icon">${statusIcons.open}</div>
                                <div class="issue-content">
                                    <div>
                                        <a href="#" class="issue-title">${escapeHTML(issue.title)}</a>
                                        <span class="issue-label ${labelClass}">${issue.label}</span>
                                    </div>
                                    <div class="issue-meta">#${issue.id} opened ${formatTimeAgo(issue.createdAt)}</div>
                                </div>
                            </li>
                        `;
                    }).join('');
                    openIssuesListContainer.innerHTML = `<ul>${openIssuesHTML}</ul>`;
                }

                // Render Solved Issues
                if (closedIssues.length === 0) {
                    solvedIssuesListContainer.innerHTML = '';
                    noSolvedIssuesMessage.style.display = 'block';
                } else {
                    noSolvedIssuesMessage.style.display = 'none';
                    const closedIssuesHTML = closedIssues.map(issue => {
                        const labelClass = labelConfig[issue.label] || '';
                        return `
                             <li class="issue-item solved">
                                <div class="issue-status-icon">${statusIcons.closed}</div>
                                <div class="issue-content">
                                    <div>
                                        <a href="#" class="issue-title">${escapeHTML(issue.title)}</a>
                                        <span class="issue-label ${labelClass}">${issue.label}</span>
                                    </div>
                                    <div class="issue-meta">#${issue.id} solved by Admin ${formatTimeAgo(issue.solvedAt)}</div>
                                </div>
                            </li>
                        `;
                    }).join('');
                    solvedIssuesListContainer.innerHTML = `<ul>${closedIssuesHTML}</ul>`;
                }

                feather.replace({ 'stroke-width': 1.5 });
            }

            function saveIssues() {
                localStorage.setItem('bscPhysicsIssues', JSON.stringify(issues));
            }

            function loadIssues() {
                const savedIssues = localStorage.getItem('bscPhysicsIssues');
                if (savedIssues) {
                    issues = JSON.parse(savedIssues);
                } else {
                    issues = [
                        { id: 1, title: 'Incorrect formula for kinetic energy', label: 'bug', comment: '', createdAt: new Date(Date.now() - 2 * 24 * 60 * 60 * 1000).toISOString(), status: 'open' },
                        { id: 2, title: 'App crashes on older Android versions', label: 'urgent', comment: '', createdAt: new Date(Date.now() - 5 * 24 * 60 * 60 * 1000).toISOString(), status: 'closed', solvedAt: new Date(Date.now() - 1 * 24 * 60 * 60 * 1000).toISOString() }
                    ];
                }
                issues.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));
            }

            function showModal() {
                modalOverlay.classList.add('visible');
                document.getElementById('issue-title').focus();
            }

            function hideModal() {
                modalOverlay.classList.remove('visible');
                issueForm.reset();
            }

            function escapeHTML(str) {
                const p = document.createElement('p');
                p.textContent = str;
                return p.innerHTML;
            }

            fab.addEventListener('click', showModal);
            cancelIssueBtn.addEventListener('click', hideModal);
            modalOverlay.addEventListener('click', (e) => {
                if (e.target === modalOverlay) {
                    hideModal();
                }
            });

            issueForm.addEventListener('submit', (e) => {
                e.preventDefault();
                const title = document.getElementById('issue-title').value.trim();
                if (!title) return;

                const newIssue = {
                    id: Date.now(),
                    title: title,
                    label: document.getElementById('issue-label').value,
                    comment: document.getElementById('issue-comment').value.trim(),
                    createdAt: new Date().toISOString(),
                    status: 'open'
                };

                issues.unshift(newIssue);
                saveIssues();
                renderAllIssues();
                hideModal();
            });
            
            function initTracker() {
                loadIssues();
                renderAllIssues();
            }

            initTracker();
        });
    </script>
</body>
</html>
